<!DOCTYPE html>
<html
  lang="en"
  data-th-replace="~{fragments/skeleton::layout('home', ~{::login_fragment})}"
>
  <head>
    <meta charset="UTF-8" />
    <time>login</time>
  </head>
  <body>
    <div class="ui container" data-th-fragment="login_fragment">
      <style type="text/css">
        .column {
          max-width: 450px;
        }
      </style>
      <div class="ui middle aligned center aligned grid">
        <div class="column">
          <div class="ui segment container">
            <h2 class="ui image header">
              <!--<img src="assets/images/logo.png" class="image" />-->
              <div class="content">Log-in to your account</div>
            </h2>
            <div class="ui error message">
              <p>Login unsuccessful!</p>
            </div>
            <form
              class="ui large form"
              data-th-action="@{/authenticate}"
              method="post"
            >
              <div class="ui segment">
                <div class="field">
                  <div class="ui left icon inverted input">
                    <i class="user icon"></i>
                    <input
                      type="text"
                      id="user"
                      name="user"
                      placeholder="Username"
                      class="inverted input"
                      autocomplete="off"
                      autofocus=""
                    />
                  </div>
                </div>
                <div class="field">
                  <div class="ui left icon input">
                    <i class="lock icon"></i>
                    <input
                      type="password"
                      id="pass"
                      name="pass"
                      placeholder="Password"
                    />
                  </div>
                </div>
                <div
                  id="login_button"
                  class="ui fluid large secondary submit button"
                >
                  Login
                </div>
              </div>

              <div class="ui error message"></div>
            </form>

            <div class="ui horizontal divider">Or</div>

            <div class="ui basic segment fluid container">
              <div class="ui vertical fluid wrapping spaced buttons">
                <a
                  data-th-href="@{/oauth2/authorization/google}"
                  class="ui fluid large basic secondary button"
                >
                  <i class="google icon"></i>
                  Sign in via Google
                </a>
                <a
                  data-th-href="@{/oauth2/authorization/github}"
                  class="ui fluid large basic secondary button"
                >
                  <i class="github icon"></i>
                  Sign in via Github
                </a>
                <a
                  data-th-href="@{/oauth2/authorization/azure}"
                  class="ui fluid large basic secondary button"
                >
                  <i class="microsoft icon"></i>
                  Sign in via Microsoft
                </a>
              </div>
            </div>
          </div>

          <div class="ui message">New to us? <a href="#">Sign Up</a></div>
        </div>
      </div>
      <script>
        $(document).ready(function () {
          $(".ui.form").form({
            fields: {
              username: {
                identifier: "user",
                rules: [
                  {
                    type: "empty",
                    prompt: "Please enter your username",
                  },
                ],
              },
              password: {
                identifier: "pass",
                rules: [
                  {
                    type: "empty",
                    prompt: "Please enter your password",
                  },
                  {
                    type: "length[6]",
                    prompt: "Your password must be at least 6 characters",
                  },
                ],
              },
            },
          });
        });
      </script>
    </div>
  </body>
</html>
